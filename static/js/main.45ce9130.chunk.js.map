{"version":3,"sources":["Provider.js","utilities/server.js","config.js","components/NewsUpdate.js","Modal.js","components/Header.js","helpers/getIpAddress.js","components/LoginForm.js","Protected.js","components/NewsCreate.js","components/News.js","helpers/formatUrl.js","components/NewsArticle.js","Router.js","App.js","reportWebVitals.js","index.js"],"names":["Context","createContext","Provider","children","data","modal","undefined","useReducer","state","action","type","payload","dispatch","value","server","get","api","a","fetch","response","json","post","token","sessionStorage","getItem","method","body","JSON","stringify","headers","put","del","config","login","create_news","news","news_article","session","NewsUpdate","useState","parse","localStorage","update","event","preventDefault","file_name","target","elements","caption","title","author","id","window","location","href","className","onSubmit","htmlFor","required","placeholder","defaultValue","Modal","useContext","context","onClick","document","getElementById","style","display","renderContent","Header","src","alt","getIpAddress","text","substring","indexOf","LoginForm","ip_address","username","password","valid","alert","setItem","jwt","Protected","is_authenticated","setState","validateSession","store","useEffect","asyncWrapper","NewsCreate","facebook","twitter","instagram","create","video","handleCheckBox","onChange","News","loadData","map","obj","hasOwnProperty","str","trim","replace","toLowerCase","rel","dateTime","date_created","NewsArticle","split","updateData","deleteData","confirm","Router","exact","path","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","render"],"mappings":"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","file":"static/js/main.45ce9130.chunk.js","sourcesContent":["import { createContext, useReducer } from 'react'\n\nexport const Context = createContext()\n\nexport default function Provider({ children }) {\n\n  const data = {\n    modal: undefined\n  }\n\n  function reducer(state, action) {\n    switch(action.type) {\n      case 'modal':\n        return { ...state, modal: action.payload }\n      default:\n        return state\n    }\n  }\n  const [state, dispatch] = useReducer(reducer, data)\n  \n  return (\n    <Context.Provider value={[state, dispatch]}>\n      {children}\n    </Context.Provider>\n  )\n}\n\n","\nfunction server() {\n  \n  const get = async api => {\n    const response = await fetch(api)\n    return response.json()\n  }\n\n  const post = async (api, data) => {\n    const token = sessionStorage.getItem('jwt')\n    const response = await fetch(api, {\n      method: 'post',\n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      }\n    })\n    return response.json()\n  }\n\n  const put = async (api, data) => {\n    const response = await fetch(api, {\n      method: 'put',\n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n    return response.json()\n  }\n\n  const del = async api => {\n    const response = await fetch(api, {\n      method: 'delete',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n    return response.json()\n  }\n\n  return { get, post, put, del }\n}\n\nexport default server()\n","export const config = {\n  routes: {\n    login: '/login',\n    create_news: '/create-news',\n    news: '/news',\n    news_article: '/news/:id/:str'\n  },\n  api: {\n    login: '/api/v1/login',\n    news: '/api/v1/news',\n    session: '/api/v1/validate-session'\n  }\n}\n","import { useState, useEffect } from 'react'\nimport server from '../utilities/server'\nimport { config } from '../config'\n\nexport default function NewsUpdate() {\n  const [state, setState] = useState(JSON.parse(localStorage.getItem('article')))\n\n  const update = async event => {\n    event.preventDefault()\n    const data = {\n      file_name: event.target.elements[1].value,\n      caption: event.target.elements[2].value,\n      title: event.target.elements[3].value,\n      author: event.target.elements[4].value,\n      body: event.target.elements[5].value\n    }\n    const response = await server.put(`${config.api.news}/${state.id}`, data)\n    window.location.href = '/news'\n  }\n\n  return (\n    <form className=\"news-update-form\" onSubmit={update}>\n      <fieldset>\n        <legend>Update post</legend>\n        <div className=\"image-upload\">        \n          <label htmlFor=\"upload\">Upload image:</label>\n          <input id=\"upload\" type=\"file\" required />\n        </div>\n        <div>\n          <label htmlFor=\"caption\">Image caption:</label>\n          <input id=\"caption\" type=\"text\" placeholder=\"Image caption\" defaultValue={state.data.caption} />\n        </div>\n        <div>\n          <label htmlFor=\"title\">Title of post</label>\n          <input id=\"title\" type=\"text\" placeholder=\"Title of post\" defaultValue={state.data.title} />\n        </div>\n        <div>\n          <label htmlFor=\"author\">Author</label>\n          <input id=\"author\" type=\"text\" placeholder=\"Name of author\" defaultValue={state.data.author} />\n        </div>\n        <div>\n          <label htmlFor=\"body\">Body of post</label>\n          <textarea id=\"body\" placeholder=\"Body of post\" defaultValue={state.data.body}></textarea>\n        </div>\n      </fieldset>\n      <div>\n        <button type=\"submit\">Submit</button>\n      </div>\n    </form>\n  )\n}\n","import { useContext, useEffect, useRef } from 'react'\nimport { Context } from './Provider'\nimport NewsUpdate from './components/NewsUpdate'\n\nexport default function Modal() {\n  const [context, dispatch] = useContext(Context)\n\n  const close = () => {\n    const modal = document.getElementById('modal')\n    modal.style.display = 'none'\n  }\n \n  const renderContent = () => {\n    switch(context.modal) {\n      case 'update-news':\n        return <NewsUpdate />\n      default:\n        return\n    }\n  }\n\n  // useEffect(() => {\n    \n  // }, [context.modal])\n  \n\n  return (\n    <div id=\"modal\" className=\"modal\">\n      <div>\n        <div>\n          <button className=\"close-btn\" onClick={close}>\n            <i className=\"fa fa-times\"></i>\n          </button>\n        </div>\n        {renderContent()}\n      </div>\n    </div>\n  )\n}\n","\nexport default function Header() {\n  return (\n    <header className=\"header\">\n      <img src=\"https://horizonsend.com/images/horizons-end_logo-small.png\" alt=\"Horizon's End\" />\n    </header>\n  )\n}\n","\nexport async function getIpAddress() {\n  const response = await fetch('https://www.cloudflare.com/cdn-cgi/trace')\n  const data = await response.text()\n  return data.substring(data.indexOf('ip=') + 3, data.indexOf('ts=') )\n}\n","import server from '../utilities/server'\nimport { getIpAddress } from '../helpers/getIpAddress'\nimport { config } from '../config'\n\nexport default function LoginForm() {\n  \n  const login = async event => {\n    event.preventDefault()\n\n    const ip_address = await getIpAddress()\n    const data = {\n      username: event.target.elements[1].value,\n      password: event.target.elements[2].value,\n      ip_address\n    }\n    const response = await server.post(config.api.login, data)\n    if (!response.valid) {\n      return alert('Incorrect username or password.')\n    }\n    sessionStorage.setItem('token', response.token)\n    sessionStorage.setItem('jwt', response.jwt)\n    window.location.href = config.routes.create_news\n  }\n\n  return (\n    <form className=\"login-form\" onSubmit={login}>\n      <fieldset>\n        <legend>Sign In</legend>\n        <div>\n          <input type=\"text\" placeholder=\"Username\" required />\n        </div>\n        <div>\n          <input type=\"password\" placeholder=\"Password\" required />\n        </div>\n      </fieldset>\n      <div>\n        <button type=\"submit\">Login</button>\n      </div>\n    </form>\n  )\n}\n","import { useState, useEffect } from 'react'\nimport server from './utilities/server'\nimport { config } from './config'\n\nexport default function Protected({ children }) {\n  const [state, setState] = useState({ is_authenticated: false })\n\n  const validateSession = async () => {\n    const token = sessionStorage.getItem('token')\n    if (token === null) {\n      window.location.href = config.routes.login\n      return\n    }\n    const store = JSON.parse(localStorage.getItem('store'))\n    const id = store.id\n    \n    const response = await server.post(config.api.session, { id, token })\n    if (!response.valid) {\n      window.location.href = '/'\n      return\n    }\n    setState({ is_authenticated: true })  \n  }\n  \n  useEffect(() => {\n    const asyncWrapper = async () => {\n      validateSession()\n    }\n    asyncWrapper()\n  }, [])\n\n  return (\n    <div>{state.is_authenticated ? children : <></>}</div>\n  )\n}\n","import { useState } from 'react'\nimport server from '../utilities/server'\nimport { config } from '../config'\n\nexport default function NewsCreate() {\n  const [state, setState] = useState({\n    facebook: false,\n    twitter: false,\n    instagram: false\n  })\n\n  const create = async event => {\n    event.preventDefault()\n    const data = {\n      file_name: event.target.elements[1].value,\n      video: event.target.elements[2].value,\n      caption: event.target.elements[3].value,\n      title: event.target.elements[4].value,\n      author: event.target.elements[5].value,\n      body: event.target.elements[6].value,\n      facebook: state.facebook,\n      instagram: state.instagram,\n      twitter: state.twitter\n    }\n    const response = await server.post(config.api.news, data)\n\n    window.location.href = config.routes.news\n  }\n\n  const handleCheckBox = event => {\n    setState({ ...state, [event.target.id]: !state[event.target.id] })\n  }\n\n  return (\n    <form className=\"content-form\" onSubmit={create}>\n      <fieldset>\n        <legend>Create a post</legend>\n        <div className=\"image-upload\">        \n          <label htmlFor=\"image-upload\">Upload image:</label>\n          <input id=\"image-upload\" type=\"file\" required />\n        </div>\n        <div className=\"video-upload\">\n          <label htmlFor=\"video-upload\">Upload video (optional):</label>\n          <input id=\"video-upload\" type=\"file\" />\n        </div>\n        <div>\n          <input type=\"text\" placeholder=\"Image caption\" required />\n        </div>\n        <div>\n          <input type=\"text\" placeholder=\"Title of post\" required />\n        </div>\n        <div>\n          <input type=\"text\" placeholder=\"Name of author\" required />\n        </div>\n        <div>\n          <textarea placeholder=\"Body of post\" required></textarea>\n        </div>\n        <div className=\"social-media\">\n          <div>\n            <p>Choose which social media to submit this post to (optional):</p>\n          </div>\n          <div>\n           <input id=\"facebook\" type=\"checkbox\" onChange={handleCheckBox} />\n           <label htmlFor=\"facebook\">Facebook</label>\n          </div>\n          <div>\n            <input id=\"twitter\" type=\"checkbox\" onChange={handleCheckBox} />\n            <label htmlFor=\"twitter\">Twitter</label>\n          </div>\n          <div>\n            <input id=\"instagram\" type=\"checkbox\" onChange={handleCheckBox} />\n            <label htmlFor=\"instagram\">Instagram</label>\n          </div>\n        </div>\n      </fieldset>\n      <div>\n        <button type=\"submit\">Submit</button>\n      </div>\n    </form>\n  )\n}\n","import { useState, useEffect } from 'react'\nimport server from '../utilities/server'\nimport { formatUrl } from '../helpers/formatUrl'\nimport { config } from '../config'\n\nexport default function News() {\n  const [state, setState] = useState({})\n\n  const loadData = async () => {\n    const response = await server.get(config.api.news)\n    const data = response.map(obj => ({ ...obj, data: JSON.parse(obj.data) }))\n\n    // format date_created for <time> attribute and value\n    // author author facebook page link (maybe keep in a config file)?ma\n\n    setState({ data })\n  }\n\n  useEffect(() => {\n    const asyncWrapper = async () => {\n      loadData()\n    }\n    asyncWrapper()\n  }, [])\n\n  return (\n    <section id=\"news\" className=\"sections\">\n      {state.hasOwnProperty('data') ? state.data.map(news => \n        <article key={news.id} className=\"article\">\n          <figure>\n            <a href={`/news/${news.id}/${formatUrl(news.data.title)}`}>\n              <img src={`/images/${news.data.file_name}`} alt={news.data.title} />\n            </a>\n            <figcaption>{news.data.caption}</figcaption>\n          </figure>\n          <header>\n            <h2>{news.data.title}</h2>\n            <address className=\"author\">By <a href=\"\" rel=\"author\">{news.data.author}</a></address>\n            &nbsp;&ndash;&nbsp;\n            <time dateTime={news.date_created}>{news.date_created}</time>\n          </header>\n          <div>\n            <p>{news.data.body}</p>\n          </div>\n        </article>\n      ) : <></>}\n    </section>\n  )\n}\n","\nexport function formatUrl(str) {\n  return str.trim()\n            .replace(/\\W\\s/g, '')\n            .replace(/\\s+/g, '-')\n            .toLowerCase()\n}\n","import { useState, useContext, useEffect } from 'react'\nimport { Context } from '../Provider'\nimport server from '../utilities/server'\nimport { config } from '../config'\n\nexport default function NewsArticle() {\n  const [context, dispatch] = useContext(Context)\n  const [state, setState] = useState({ data: {\n    file_name: '',\n    caption: '',\n    title: '',\n    author: '',\n    body: ''\n  }})\n\n  const loadData = async () => {\n    const id = window.location.href.split('/')[4]\n    const response = await server.get(`${config.api.news}/${id}`)\n    const data = { ...response, data: JSON.parse(response.data) }\n    localStorage.setItem('article', JSON.stringify(data))\n    setState(data)\n  }\n\n  const updateData = async event => {\n    dispatch({ type: 'modal', payload: 'update-news' })\n    const modal = document.getElementById('modal')\n    modal.style.display = 'block'\n  }\n\n  const deleteData = async event => {\n    if (!window.confirm('Delete the entire post?')) {\n      return\n    }\n    const response = await server.del(`${config.api.news}/${state.id}`)\n    window.location.href = '/news'\n  }\n\n  useEffect(() => {\n    const asyncWrapper = async () => {\n      loadData()\n    }\n    asyncWrapper()\n  }, [])\n\n  return (\n    <section>\n      <div className=\"admin-btn-container\">\n        <button className=\"update-btn\" onClick={updateData}>\n          <i className=\"fa fa-pencil\">edit</i>\n        </button>\n        <button className=\"delete-btn\" onClick={deleteData}>\n          <i className=\"fa fa-trash\">delete</i>\n        </button>\n      </div>\n      <article className=\"individual-article\">\n        <figure>\n          <img src={state.data.file_name} alt={state.title} />\n          <figcaption>{state.data.caption}</figcaption>\n        </figure>\n        <header>\n          <h2>{state.data.title}</h2>\n          <address className=\"\">By <a href=\"\" rel=\"author\">{state.data.author}</a></address>\n          &nbsp;&ndash;&nbsp; \n          <time dateTime=\"\">{state.date_created}</time>\n        </header>\n        <div>\n          <p>{state.data.body}</p>\n        </div>\n      </article>\n    </section>\n  )\n}\n","import { BrowserRouter, Switch, Route } from 'react-router-dom'\nimport LoginForm from './components/LoginForm'\nimport Protected from './Protected'\nimport NewsCreate from './components/NewsCreate'\nimport News from './components/News'\nimport NewsArticle from './components/NewsArticle'\nimport { config } from './config'\n\nexport default function Router() {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route exact path={config.routes.login}>\n          <LoginForm />\n        </Route>\n        <Route exact path={config.routes.create_news}>\n          <Protected>\n            <NewsCreate />\n          </Protected>\n        </Route>\n        <Route exact path={config.routes.news}>\n          <Protected>\n            <News />\n          </Protected>\n        </Route>\n        <Route exact path={config.routes.news_article}>\n          <Protected>\n            <NewsArticle />\n          </Protected>\n        </Route>\n      </Switch>\n    </BrowserRouter>\n  )\n}\n","import Provider from './Provider'\nimport Modal from './Modal'\nimport Header from './components/Header'\nimport Router from './Router'\n\nexport default function App() {\n  return (\n    <Provider>\n      <Modal />\n      <Header />\n      <Router /> \n    </Provider>\n  )\n}\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { StrictMode } from 'react';\nimport { render } from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nrender(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}